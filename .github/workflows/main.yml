name: Keep Active

on:
  schedule:
    - cron: '30 4 * * 2'
    - cron: '30 8 * * 4'
    - cron: '30 5 * * 6'
  workflow_dispatch:

jobs:
  update_activity:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Update activity
        run: |
          IST_TIME=$(TZ='Asia/Kolkata' date '+%Y-%m-%d %H:%M IST')
          
          MESSAGES=(
            "Daily update: $IST_TIME"
            "Progress log: $IST_TIME"
            "Activity: $IST_TIME"
            "Notes: $IST_TIME"
          )
          
          RANDOM_MSG=${MESSAGES[$RANDOM % ${#MESSAGES[@]}]}
          
          echo "" >> activity.txt
          echo "=== $IST_TIME ===" >> activity.txt
          echo "Logged" >> activity.txt
          
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          
          git add activity.txt
          git commit -m "$RANDOM_MSG"
          git push
